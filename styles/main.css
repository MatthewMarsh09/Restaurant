/* Optimized CSS - Performance focused */
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    line-height: 1.6; color: #333; background: #f8f9fa;
}

.container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
.section { padding: 60px 0; }

/* Header */
.header {
    background: #fff; box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    position: fixed; top: 0; width: 100%; z-index: 1000;
}
.nav { display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; }
.nav__brand h1 { color: #002D62; font-size: 1.8rem; font-weight: bold; }
.nav__menu { display: flex; list-style: none; gap: 2rem; }
.nav__menu a { text-decoration: none; color: #333; font-weight: 500; transition: color 0.3s; }
.nav__menu a:hover { color: #002D62; }

.main { margin-top: 80px; }

/* Hero */
.hero {
    background: linear-gradient(135deg, rgba(0, 45, 98, 0.85) 0%, rgba(235, 110, 31, 0.85) 100%);
    color: white; padding: 80px 0; text-align: center; position: relative; overflow: hidden;
}
.hero::before {
    content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: -1;
    background: url('https://s29980.pcdn.co/wp-content/uploads/sites/7/2023/02/Houston-skyline.jpg') center/cover;
    background-attachment: fixed;
}
.hero__content { position: relative; z-index: 2; }
.hero__content h2 { font-size: 3rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
.hero__content p { font-size: 1.2rem; margin-bottom: 2rem; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); }

/* Search */
.search-section {
    padding: 60px 0;
    background: linear-gradient(rgba(255,255,255,0.85), rgba(255,255,255,0.85)),
                url('https://s29980.pcdn.co/wp-content/uploads/sites/7/2023/02/Houston-skyline.jpg') center/cover;
    background-attachment: fixed;
}

.search-form {
    background: rgba(255,255,255,0.95); backdrop-filter: blur(10px);
    padding: 2rem; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,45,98,0.2);
    max-width: 800px; margin: 0 auto; border: 2px solid rgba(255,255,255,0.8);
}

.location-inputs { display: grid; grid-template-columns: 2fr 1fr; gap: 1rem; margin-bottom: 1.5rem; }

.location-actions {
    display: flex; flex-direction: column; align-items: center; gap: 0.5rem;
    margin-bottom: 1.5rem; padding: 1rem; background: rgba(248,249,250,0.8);
    border-radius: 12px; border: 1px solid rgba(229,231,235,0.8); backdrop-filter: blur(5px);
}

.form-group { margin-bottom: 1.5rem; }
.form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: #002D62; }
.form-group input {
    width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 10px;
    font-size: 1rem; transition: all 0.3s; background: rgba(255,255,255,0.9); backdrop-filter: blur(5px);
}
.form-group input:focus {
    outline: none; border-color: #002D62; background: rgba(255,255,255,1);
    box-shadow: 0 0 0 3px rgba(0,45,98,0.1);
}

/* Custom Dropdown */
.custom-dropdown { position: relative; width: 100%; }
.dropdown-selected {
    width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 10px;
    background: rgba(255,255,255,0.9); backdrop-filter: blur(5px); cursor: pointer;
    display: flex; justify-content: space-between; align-items: center; transition: all 0.3s;
}
.dropdown-selected:hover { border-color: #002D62; background: rgba(255,255,255,1); }
.dropdown-selected.open { 
    border-color: #002D62; border-bottom-left-radius: 0; border-bottom-right-radius: 0;
    box-shadow: 0 0 0 3px rgba(0,45,98,0.1);
}
.selected-text { font-size: 1rem; color: #333; }
.dropdown-arrow { font-size: 0.8rem; color: #6b7280; transition: transform 0.3s; }
.dropdown-selected.open .dropdown-arrow { transform: rotate(180deg); }

.dropdown-options {
    position: absolute; top: 100%; left: 0; right: 0; z-index: 1000; display: none;
    background: rgba(255,255,255,0.95); backdrop-filter: blur(10px);
    border: 2px solid #002D62; border-top: none; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px;
    max-height: 250px; overflow-y: auto; box-shadow: 0 8px 32px rgba(0,45,98,0.2);
}
.dropdown-options.open { display: block; }
.dropdown-option {
    display: flex; align-items: center; padding: 10px 16px; cursor: pointer;
    transition: background-color 0.2s; border-bottom: 1px solid rgba(229,231,235,0.5);
}
.dropdown-option:last-child { border-bottom: none; }
.dropdown-option:hover { background: rgba(240,244,255,0.8); }
.dropdown-option input[type="checkbox"] { margin: 0 10px 0 0; width: 16px; height: 16px; accent-color: #002D62; }
.checkmark { font-size: 1rem; color: #333; }

/* Buttons */
.btn {
    background: #002D62; color: white; border: none; padding: 12px 24px; border-radius: 8px;
    font-size: 1rem; cursor: pointer; transition: all 0.3s; font-weight: 600;
}
.btn:hover { background: #001a3a; transform: translateY(-2px); }
.btn--primary { background: #EB6E1F; }
.btn--primary:hover { background: #d55e15; }
.btn--random { background: #002D62; border: 2px solid #EB6E1F; }
.btn--random:hover { background: #EB6E1F; }

.btn--location {
    background: #28a745; font-size: 1rem; padding: 12px 24px; border-radius: 25px;
    display: flex; align-items: center; gap: 0.5rem; box-shadow: 0 4px 15px rgba(40,167,69,0.3);
}
.btn--location:hover { background: #218838; box-shadow: 0 6px 20px rgba(40,167,69,0.4); }
.btn--location:disabled { background: #6c757d; cursor: not-allowed; transform: none; box-shadow: none; }

.location-status {
    font-size: 0.9rem; text-align: center; min-height: 20px; color: #6b7280;
    font-style: italic; margin-top: 0.5rem;
}
.location-status.success { color: #28a745; font-weight: 600; font-style: normal; }
.location-status.error { color: #dc3545; font-weight: 600; font-style: normal; }
.location-status.loading { color: #002D62; font-weight: 500; }

.restaurant-counter {
    display: flex; justify-content: center; align-items: center; gap: 0.5rem; padding: 1rem;
    background: linear-gradient(135deg, #002D62, #EB6E1F); border-radius: 12px; margin-bottom: 1.5rem;
    box-shadow: 0 4px 15px rgba(0,45,98,0.3);
}
.counter-label { color: white; font-size: 1rem; font-weight: 500; }
.counter-number { color: #FFD700; font-size: 1.5rem; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }

.search-actions { display: flex; gap: 1rem; justify-content: center; margin-top: 2rem; }

/* Results */
.results-section { padding: 60px 0; background: #f8f9fa; }
.results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-top: 2rem; }

.card {
    background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,45,98,0.1);
    transition: all 0.3s; border: 1px solid #e5e7eb;
}
.card:hover { transform: translateY(-5px); box-shadow: 0 8px 32px rgba(0,45,98,0.15); border-color: #002D62; }
.card h3 { color: #002D62; margin-bottom: 0.5rem; font-size: 1.25rem; }
.card .cuisine {
    background: #f0f4ff; color: #002D62; padding: 4px 12px; border-radius: 20px;
    font-size: 0.875rem; font-weight: 600; display: inline-block; margin-bottom: 1rem;
}
.card .rating { color: #EB6E1F; margin-bottom: 0.5rem; font-weight: 600; }
.card .distance, .card .address { color: #6b7280; font-size: 0.875rem; }
.card .address { margin-top: 0.5rem; }

.random-result { text-align: center; max-width: 600px; margin: 0 auto; }
.random-result h3 { font-size: 2rem; color: #002D62; margin-bottom: 2rem; }
.random-card {
    background: white; padding: 3rem; border-radius: 16px; box-shadow: 0 20px 60px rgba(0,45,98,0.1);
    margin-bottom: 2rem; border: 3px solid #EB6E1F;
}
.random-card h4 { font-size: 2rem; color: #002D62; margin-bottom: 1rem; }
.random-card .cuisine {
    background: #fff3e0; color: #EB6E1F; padding: 8px 16px; border-radius: 20px;
    font-weight: 600; display: inline-block; margin-bottom: 1rem;
}

.leaflet-container { border-radius: 12px; box-shadow: 0 8px 32px rgba(0,45,98,0.1); }
.footer { background: #002D62; color: white; text-align: center; padding: 2rem 0; }

/* Responsive design */
@media (max-width: 768px) {
    body {
        font-size: 16px; /* Ensure base font size is readable */
        -webkit-text-size-adjust: 100%; /* Prevent iOS font scaling */
    }

    .section { padding: 40px 0; }

    .nav { flex-direction: column; gap: 1rem; padding: 1rem; }
    .nav__brand h1 { font-size: 1.5rem; text-align: center; }

    .hero { padding: 60px 0; }
    .hero__content h2 { font-size: 2.25rem; }
    .hero__content p { font-size: 1.1rem; }
    .hero::before, .search-section { background-attachment: scroll; }
    .hero { background: linear-gradient(135deg, rgba(0,45,98,0.9) 0%, rgba(235,110,31,0.9) 100%); }

    .search-form { margin: 0 1rem; padding: 1.5rem; background: rgba(255,255,255,0.98); }
    .location-inputs { grid-template-columns: 1fr; gap: 1rem; }
    
    .form-group input, .dropdown-selected {
        padding: 14px 16px; /* Taller for easier tapping */
        font-size: 1rem;
    }

    .search-actions { flex-direction: column; align-items: stretch; gap: 0.75rem; }
    .search-actions .btn { 
        width: 100%; 
        max-width: none; /* Allow full width */
        padding: 14px;
        font-size: 1.1rem;
    }

    .dropdown-options { max-height: 220px; }
    .dropdown-option { padding: 12px 16px; }

    .restaurant-counter { flex-direction: column; gap: 0.25rem; padding: 1rem; }
    .counter-label { font-size: 1rem; }
    .counter-number { font-size: 1.5rem; }

    .results-grid { grid-template-columns: 1fr; gap: 1.5rem; }
    .card { padding: 1.5rem; }
    .card h3 { font-size: 1.2rem; }

    .random-result h3 { font-size: 1.5rem; }
    .random-card { padding: 2rem; }
    .random-card h4 { font-size: 1.5rem; }

    .footer { padding: 1.5rem 0; }
}

@media (max-width: 480px) {
    .hero { padding: 40px 0; }
    .hero__content h2 { font-size: 1.8rem; }
    .hero__content p { font-size: 1rem; }
    
    .search-form { padding: 1rem; }
    .form-group { margin-bottom: 1rem; }
    .location-inputs { gap: 0.75rem; }

    .card { padding: 1rem; }
    .card h3 { font-size: 1.1rem; }
    .card .cuisine { padding: 3px 10px; font-size: 0.8rem; }
}
